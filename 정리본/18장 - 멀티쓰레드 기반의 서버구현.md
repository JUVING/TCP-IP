
# *18-1*

프로세스
프로세스란 네트워크에서 데이터를 주고받는 소프트웨어 단위를 의미합니다.

쓰레드
쓰레드(thread)는 프로세스 내에서 실행되는 작은 실행 단위를 나타냅니다. 한 프로세스는 여러 개의 쓰레드를 가질 수 있으며, 각 쓰레드는 독립적으로 실행될 수 있습니다. 쓰레드는 프로세스 내의 자원을 공유하면서 동시에 여러 작업을 수행할 수 있습니다.

1. 프로세스보다 가벼운 경량화된 프로세스이다. 때문에 컨텍스트 스위핑이 빠르다.
2. 쓰래드 별로 메모리 공유가 가능하기 때문에 별도의 IPC기법 불필요하다.
3. 프로세스 내에서의 프로그램의 흐름을 추가한다.

![[Pasted image 20240105214533.png]]

![[Pasted image 20240105214507.png]]

operating system
프로세스를 둘 이상 생성이 가능하고 프로세스는 쓰레드를 담는 바구니이다.
실행 중 쓰레드를 생성이 가능하다.

![[Pasted image 20240105214802.png]]


# *18-2*

쓰레드 생성 함수
![[Pasted image 20240105215006.png]]


프로세스의 종료와 쓰레드
![[Pasted image 20240105215957.png]]
메인 쓰레드가 pthread_creat함수를 호출하여 종료 전에 sleep함수를 호출하여 일시정지 후 메인 쓰레드가 종료된다.

![[Pasted image 20240105220052.png]]
메인 함수가 종료되면 쓰레드가 종료가 된다.
종료가 된다고 쓰레드와 관련된 데이터가 소멸되지 않는다.

 워커 쓰레드 모델
 ![[Pasted image 20240105221207.png]]
 메인 쓰레드가 일할 쓰레드를 생성하여 일을 전달하여 일을 시키고 메인 쓰레드가 일에 대한 결과 값을 기다려 전부 취합하여 결과를 도출한다.


# *18-3*

임계영역 : 둘 이상의 쓰레드가 동시에 실행하면 문제를 일으키는 영역이다.


# *18-4*

쓰레드의 동기화 : 임계영역을 한 순간에 한 쓰레드만 접근이 가능하게 제한하는 것

뮤텍스(Mutual Exclusion) : 쓰레드의 동시 접근을 허용하지 않는다는 의미이다.
예를 들면 화장실과 같다 한 칸의 화장실에 두명이 들어가지 못 하는 것 처럼 그런 사태를 방지하기 위하여 장금 장치를 설치한다 그 잠금장치의 역활이 뮤텍스이다.

세마포어(semaphore) : 뮤텍스와 아주 유사하며 세마포어는 0과1만 사용한다.


# *18-5*

리눅스는 쓰레드의 main함수를 반환해도 자동으로 소멸되지 않는다.

쓰레드 기반 서버

스레드 서버라고도 알려진 스레드 모델 서버는 들어오는 각 클라이언트 연결이 별도의 스레드에 할당되는 서버 아키텍처 유형입니다. 스레드는 *동일한 메모리 공간을 공유하여 동시에 실행될 수 있는 경량 프로세스입니다.* 서버의 맥락에서 이는 여러 클라이언트 *연결을 동시에 처리할 수 있으며 각 연결이 별도의 스레드에 의해 처리될 수 있음*을 의미합니다.

스레드 모델 서버의 주요 *장점은 단순성과 구현 용이성입니다. 각 스레드는 특정 클라이언트의 요청을 독립적으로 처리하여 특정 시나리오에서 더 나은 병렬 처리와 잠재적으로 향상된 성능을 허용합니다.* 이 모델은 스레드 생성 및 관리에 따른 오버헤드가 허용되고 동시 연결 수가 보통인 애플리케이션에 적합합니다.

그러나 스레드 관리에는 *데이터 경합 및 기타 동시성 문제를 방지하기 위한 동기화 메커니즘의 필요성과 같은 과제가 따른다는 점에 유의하는 것이 중요합니다.* 동시 연결 수가 많은 시나리오에서는 더 나은 확장성을 위해 이벤트 기반 또는 비동기 모델(epoll과 같은 기술 사용)과 같은 다른 서버 모델이 선호될 수 있습니다.
 

